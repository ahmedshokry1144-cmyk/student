<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø§Ù„Ø§ÙÙˆÙƒØ§ØªÙˆ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&family=Almarai:wght@700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<style>
body{
  font-family:'Cairo',sans-serif;
  background:linear-gradient(135deg,#ffe6f0,#d0f0fd);
  margin:0;
  color:#333;
  position:relative;
  overflow-x:hidden;
}

/* Ø®Ù„ÙÙŠØ© Ù…ÙŠØ²Ø§Ù† Ø§Ù„Ø¹Ø¯Ø§Ù„Ø© */
body::before{
  content:"";
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:350px;
  height:350px;
  background:url('https://upload.wikimedia.org/wikipedia/commons/6/63/Justice_Scales.svg') no-repeat center center;
  background-size:contain;
  opacity:0.05;
  pointer-events:none;
  z-index:0;
}

/* Ø§Ù„Ù‡ÙŠØ¯Ø± */
header{
  padding:30px 20px;
  text-align:center;
  position:relative;
  z-index:1;
}
header h1{
  font-family:'Almarai',sans-serif;
  font-size:3rem;
  font-weight:900;
  letter-spacing:2px;
  animation:colorCycle 6s linear infinite;
}
header h3{
  font-size:1.3rem;
  margin-top:5px;
  font-weight:400;
}

/* ØªØºÙŠÙŠØ± Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø§ÙÙˆÙƒØ§ØªÙˆ */
@keyframes colorCycle{
  0%{color:#ff3d00;}
  25%{color:#ff9800;}
  50%{color:#4caf50;}
  75%{color:#2196f3;}
  100%{color:#ff3d00;}
}

/* Ø¬Ù…Ù„Ø© Ù…ØªØºÙŠØ±Ø© ÙÙˆÙ‚ Ø§Ù„ÙØ±Ù‚ */
#animatedText{
  text-align:center;
  font-size:1.5rem;
  font-weight:700;
  margin:20px 0;
  height:50px;
  overflow:hidden;
  color:#2a3eb1;
  position:relative;
  z-index:1;
}
.animated-word{
  position:absolute;
  width:100%;
  opacity:0;
  animation:wordsAnim 9s infinite;
  text-align:center;
}
.animated-word:nth-child(1){animation-delay:0s;}
.animated-word:nth-child(2){animation-delay:3s;}
.animated-word:nth-child(3){animation-delay:6s;}
@keyframes wordsAnim{
  0%,20%{opacity:0;transform:translateY(40px);}
  25%,45%{opacity:1;transform:translateY(0);}
  50%,100%{opacity:0;transform:translateY(-40px);}
}

/* Ù†Øµ Ø§Ø¯Ø®Ù„ Ø´ÙˆÙ ØªØ±ØªÙŠØ¨Ùƒ */
#enterText{text-align:center;font-size:1.5rem;font-weight:700;margin-bottom:20px;color:#2a3eb1;position:relative;z-index:1;}

/* Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„ÙØ±Ù‚ */
.groups{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  gap:25px;
  margin-top:20px;
  position:relative;
  z-index:1;
  perspective:1000px;
}
.group{
  border-radius:20px;
  padding:30px;
  cursor:pointer;
  display:flex;
  flex-direction:column;
  align-items:center;
  transition:.5s;
  font-weight:700;
  background:linear-gradient(135deg,#ffd1dc,#ff8fa3);
  box-shadow:0 10px 25px rgba(0,0,0,.15);
  color:#fff;
}
.group i{
  font-size:3rem;
  margin-bottom:10px;
  transition:.5s;
}
.group:hover{
  transform:rotateY(15deg) rotateX(5deg) translateY(-10px) scale(1.05);
  background:linear-gradient(135deg,#00c6ff,#0072ff);
}
.group.selected{background:#2a5298;}
.group.selected i{color:#fff;}

/* Ø§Ù„ØµÙØ­Ø§Øª */
.page{display:none;padding:20px;position:relative;z-index:1;}
.active{display:block;}

/* Ø£Ø²Ø±Ø§Ø± */
button{padding:10px 22px;border:none;border-radius:12px;cursor:pointer;font-family:'Cairo';transition:.3s;}
button:hover{transform:scale(1.05);}
.admin-btn{background:#e91e63;color:#fff;}
.back-btn{background:#777;color:#fff;}

/* Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø·Ù„Ø§Ø¨ */
table{
  width:100%;
  border-collapse:collapse;
  margin-top:20px;
  background:#fff;
  border-radius:15px;
  overflow:hidden;
  box-shadow:0 8px 25px rgba(0,0,0,.1);
}
th,td{
  padding:12px;
  border-bottom:1px solid #eee;
  text-align:center;
}
th{
  background:linear-gradient(135deg,#2196f3,#21cbf3);
  color:#fff;
  font-weight:700;
}
td.total{
  font-weight:700;
  color:#ff3d00;
  font-size:1.2rem;
}

/* Inputs Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… */
input,select{
  padding:8px;
  border-radius:8px;
  border:1px solid #ccc;
  font-family:'Cairo';
  margin-right:5px;
  margin-bottom:8px;
}

/* Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„Ø­Ø¸Ø± */
.modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  justify-content:center;
  align-items:center;
  z-index:1000;
}
.modal-box{
  background:#fff;
  padding:25px;
  border-radius:20px;
  width:90%;
  max-width:400px;
  text-align:center;
}
.timer{font-weight:bold;color:#e91e63;margin-top:10px;}
</style>
</head>
<body>

<header>
  <h1>Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø§Ù„Ø§ÙÙˆÙƒØ§ØªÙˆ</h1>
  <h3>Ø¯/ Ù…ØµØ·ÙÙ‰ Ø¹Ø¨Ø¯Ø§Ù„Ø¹Ø§Ù„</h3>
</header>

<div id="home" class="page active">
  <div id="animatedText">
    <div class="animated-word">Ù…Ø³Ø§Ø¨Ù‚Ø§Øª â€“ ØªØ­Ø¯ÙŠ â€“ ØªÙ…ÙŠØ²</div>
    <div class="animated-word">ÙƒÙ† Ø§Ù†Øª Ø§Ù„Ø·Ø§Ù„Ø¨ Ø§Ù„Ù…ØªÙ…ÙŠØ²</div>
    <div class="animated-word">Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø§Ù„Ø§ÙÙˆÙƒØ§ØªÙˆ</div>
  </div>

  <div id="enterText">Ø§Ø¯Ø®Ù„ Ø´ÙˆÙ ØªØ±ØªÙŠØ¨Ùƒ</div>

  <div class="groups">
    <div class="group" onclick="openGroup(0)"><i class="fa-solid fa-star"></i>Ø§Ù„ÙØ±Ù‚Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰</div>
    <div class="group" onclick="openGroup(1)"><i class="fa-solid fa-gem"></i>Ø§Ù„ÙØ±Ù‚Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©</div>
    <div class="group" onclick="openGroup(2)"><i class="fa-solid fa-crown"></i>Ø§Ù„ÙØ±Ù‚Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©</div>
    <div class="group" onclick="openGroup(3)"><i class="fa-solid fa-rocket"></i>Ø§Ù„ÙØ±Ù‚Ø© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©</div>
  </div>

  <button class="admin-btn" onclick="openAdmin()">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</button>
</div>

<!-- ØµÙØ­Ø© Ø§Ù„Ø·Ù„Ø§Ø¨ -->
<div id="students" class="page">
  <h3>Ø§Ù„Ø·Ø§Ù„Ø¨ Ø§Ù„Ù…ØªÙ…ÙŠØ²</h3>
  <table>
    <thead>
      <tr>
        <th>Ø§Ù„ØªØ±ØªÙŠØ¨</th><th>Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨</th><th>Ù…Ø­Ø§Ø¶Ø±Ø§Øª</th><th>3 Ù…Ø­Ø§Ø¶Ø±Ø§Øª</th><th>Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</th><th>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹</th>
      </tr>
    </thead>
    <tbody id="studentsTable"></tbody>
  </table>
  <br><button class="back-btn" onclick="goHome()">Ø±Ø¬ÙˆØ¹</button>
</div>

<!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
<div id="admin" class="page">
  <h3>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h3>
  <select id="groupSelect" onchange="renderAdmin()">
    <option value="0">Ø§Ù„ÙØ±Ù‚Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰</option>
    <option value="1">Ø§Ù„ÙØ±Ù‚Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©</option>
    <option value="2">Ø§Ù„ÙØ±Ù‚Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©</option>
    <option value="3">Ø§Ù„ÙØ±Ù‚Ø© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©</option>
  </select>

  <table>
    <thead>
      <tr>
        <th>Ø§Ù„Ø§Ø³Ù…</th><th>Ù…Ø­Ø§Ø¶Ø±Ø§Øª</th><th>3 Ù…Ø­Ø§Ø¶Ø±Ø§Øª</th><th>Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</th><th>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹</th>
      </tr>
    </thead>
    <tbody id="adminTable"></tbody>
  </table>

  <h4>Ø¥Ø¶Ø§ÙØ© Ø·Ø§Ù„Ø¨</h4>
  <input id="nName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨">
  <input id="nl" type="number" placeholder="Ù…Ø­Ø§Ø¶Ø±Ø§Øª">
  <input id="nt" type="number" placeholder="3 Ù…Ø­Ø§Ø¶Ø±Ø§Øª">
  <input id="ng" type="number" placeholder="Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª">
  <br><br>
  <button class="admin-btn" onclick="addStudent()">Ø­ÙØ¸</button>
  <br><br>
  <button class="back-btn" onclick="goHome()">Ø±Ø¬ÙˆØ¹</button>
</div>

<!-- Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„Ø­Ø¸Ø± -->
<div class="modal" id="blockModal">
  <div class="modal-box">
    <h3 id="modalMsg"></h3>
    <div class="timer" id="timer"></div>
    <br><button class="back-btn" onclick="closeModal()">ØªÙ…Ø§Ù…</button>
  </div>
</div>

<script>
// Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨ Ø¬Ø¯ÙŠØ¯Ø©
let data = [[],[],[],[]];
let tries = 0;
let blockedUntil = 0;
let currentGroup = 0;
let timerInterval;

// Ø§Ù„ØµÙØ­Ø§Øª
function show(id){document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));document.getElementById(id).classList.add("active");}
function goHome(){show("home");}

// Ø§Ù„Ø·Ù„Ø§Ø¨
function openGroup(g){
  currentGroup=g;
  const body=document.getElementById("studentsTable");
  body.innerHTML="";
  data[g].sort((a,b)=>b.total-a.total).forEach((s,i)=>{
    body.innerHTML+=`<tr>
      <td>${i+1}</td><td>${s.name}</td><td>${s.l}</td><td>${s.t}</td><td>${s.g}</td><td class="total">${s.total}</td>
    </tr>`;
  });
  show("students");
}

// Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
function openAdmin(){
  if(Date.now()<blockedUntil){showBlockModal("Ø§Ù†Øª Ù…Ø­Ø¸ÙˆØ± ğŸ˜",blockedUntil); return;}
  const pass = prompt("Ø§Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±");
  if(pass==="6742981"){
    tries=0; blockedUntil=0; renderAdmin(); show("admin");
  }else{
    tries++;
    if(tries===1) alert("Ø®Ù„Ø§Ø§Ø§Ø§Ø§Øµ ÙŠØ§Ø¹Ù… Ø¹Ø±ÙÙ†Ø§ Ø¥Ù†Ùƒ Ù…Ø´ Ø§Ù„Ø¯ÙƒØªÙˆØ± ğŸ¤£");
    else if(tries===2) alert("Ø§Ù†Øª Ù…ØµÙ…Ù… Ø¨Ù‚Ù‰ ÙŠØ¹Ù…ØŸ ğŸ˜…");
    else if(tries===3) alert("Ø¨Ø±Ø¶Ùˆ Ù…Ø´ Ù‡ØªØ¹Ø±Ù ØªØ¯Ø®Ù„ ğŸ˜‚");
    else if(tries===4) alert("Ù„Ø³Ù‡ Ø¨ØªØ¬Ø±Ø¨ØŸ ğŸ˜†");
    else if(tries===5){blockedUntil=Date.now()+86400000; showBlockModal("Ø§ØªØ­Ø¸Ø±Øª 24 Ø³Ø§Ø¹Ø© ğŸ˜‚",blockedUntil);}
  }
}

function showBlockModal(msg,time){
  document.getElementById("modalMsg").innerText=msg;
  document.getElementById("blockModal").style.display="flex";
  updateTimer(time);
  timerInterval=setInterval(()=>updateTimer(time),1000);
}
function updateTimer(time){
  let diff=time-Date.now();
  if(diff<=0){closeModal();blockedUntil=0;return;}
  let h=Math.floor(diff/3600000); let m=Math.floor(diff%3600000/60000); let s=Math.floor(diff%60000/1000);
  document.getElementById("timer").innerText=`ÙØ§Ø¶Ù„ ${h}Ø³ ${m}Ø¯ ${s}Ø«`;
}
function closeModal(){document.getElementById("blockModal").style.display="none"; clearInterval(timerInterval);}

// Admin
function renderAdmin(){
  const g=groupSelect.value;
  const body=document.getElementById("adminTable");
  body.innerHTML="";
  data[g].sort((a,b)=>b.total-a.total).forEach((s,i)=>{
    body.innerHTML+=`<tr>
      <td>${s.name}</td>
      <td><input type="number" value="${s.l}" onchange="update(${g},${i},'l',this.value)"></td>
      <td><input type="number" value="${s.t}" onchange="update(${g},${i},'t',this.value)"></td>
      <td><input type="number" value="${s.g}" onchange="update(${g},${i},'g',this.value)"></td>
      <td class="total">${s.total}</td>
    </tr>`;
  });
}
function update(g,i,k,v){data[g][i][k]=+v;data[g][i].total=data[g][i].l+data[g][i].t+data[g][i].g;renderAdmin();}
function addStudent(){const g=groupSelect.value;if(!nName.value.trim()) return alert("Ø§ÙƒØªØ¨ Ø§Ù„Ø§Ø³Ù…");const l=+nl.value||0,t=+nt.value||0,gg=+ng.value||0;data[g].push({name:nName.value,l,t,g:gg,total:l+t+gg});nName.value=nl.value=nt.value=ng.value="";renderAdmin();}
</script>
</body>
</html>